# 更新日志

### 主要更新日志

- feat(0.6.0):
    - 现在支持 番剧 页面的自动收藏
    - 已看收藏夹可以设定为 默认收藏夹

- fix(0.5.1):
    - 延长了视频在本页面跳转时的自动收藏延迟, 修复了收藏过快导致获取的是上一个视频的信息导致当前视频不进行收藏的问题.

- feat(0.5.0):
    - 视频页面的合集/连播跳转之后的视频也会进行收藏了

- feat(0.4.0):
    - 添加排序功能, 现在指定收藏夹新建后会将已满指定收藏夹自动添加到收藏夹列表的最后
- fix(0.3.3):
    - 修复了收藏夹已满情况下, 新建收藏夹的编号错误的问题
- update(0.3.1):
    - 添加了油猴脚本环境检查: 如果当前环境是 TamperMonkey 环境, 则显示油猴菜单;
    - 如果当前环境是 ScriptCat 环境, 则显示脚本猫配置.
- update(0.2.3-b):
    - 修复用户 uid 无法正常读取的问题

### fix(0.6.1):

- fix: 修复了没有已看收藏夹的情况下, 无法新建已看收藏夹的问题.

### feat(0.6.0):

- chore: 重构代码
- chore: 修改了脚本的命名空间
- update: 已看收藏夹可以设定为 默认收藏夹 了
- update: 现在支持 番剧 页面的自动收藏了
- pref: 不再需要手动输入 uid
- fix: 修复了B站不同 UI 导致的收藏无法更新状态的问题

### fix(0.5.1):

1. 延长了视频在本页面跳转时的自动收藏延迟, 修复了收藏过快导致获取的是上一个视频的信息导致当前视频不进行收藏的问题.

### feat(0.5.0):

1. 现在视频页面的合集/连播跳转之后的视频也会进行收藏了

### style(0.4.1):

1. 更新 README 说明, 新增版本更新说明

### feat(0.4.0):

1. 添加排序功能, 现在指定收藏夹新建后会将已满指定收藏夹自动添加到收藏夹列表的最后

### fix(0.3.3):

1. 修复了收藏夹已满情况下, 新建收藏夹的编号错误的问题

### pref(0.3.2):

1. 修改了脚本环境监测的代码

### update(0.3.1):

1. 添加了油猴脚本环境检查: 如果当前环境是 TamperMonkey 环境, 则显示油猴菜单; 如果当前环境是 ScriptCat 环境, 则显示脚本猫配置.
2. 更新了版本号

### feat(0.3.0):

1. 接入 GMStorageExtra 类, 兼容 ScriptCat 的脚本配置项

### style(0.2.4-b):

1. 添加 GMStorageExtra 类, 用于兼容 ScriptCat 的用户配置, 等待接入

### update(0.2.3-b):

1. 添加 GMStorage 类进行储存管理 2. 修复用户 uid 无法正常读取的问题

### fix(0.2.2):

1. 修复当视频的地址是av编号地址时, 无法正确添加的问题

### style(0.2.1-b):

1. 更新 README 说明

### feat(0.2.0-b):

1. 添加功能: 在没有收藏夹/收藏夹已满的情况下会自动创建收藏夹
1. 修复油猴菜单按钮失效的问题

### fix(0.1.5-b):

1. 再次修复页面中的用户uid获取失效的问题 (元素等待器等待的超时时间太短)

### style(0.1.4-b):

1. 修改了 Storage 存储的代码排布
1. 修改的油猴菜单的选项提示
1. 代码中添加的些许注释

### fix(0.1.3-b):

1. 修复加入收藏检查之后, 所有收藏都被拒绝的问题
1. 修复页面元素获取过快, 导致用户uid获取不到的问题

### fix(0.2.2):

1. 修复当视频的地址是av编号地址时, 无法正确添加的问题

### style(0.2.1):

1. 更新 README 说明

### feat(0.2.0):

1. 添加功能: 在没有收藏夹/收藏夹已满的情况下会自动创建收藏夹
1. 修复油猴菜单按钮失效的问题

### fix(0.1.5):

1. 再次修复页面中的用户uid获取失效的问题 (元素等待器等待的超时时间太短)

### style(0.1.4):

1. 修改了 Storage 存储的代码排布
1. 修改的油猴菜单的选项提示
1. 代码中添加的些许注释

### fix(0.1.3):

1. 修复加入收藏检查之后, 所有收藏都被拒绝的问题
1. 修复页面元素获取过快, 导致用户uid获取不到的问题

### feat(0.1.2-a):

1. 在自动收藏完之后, 给页面中的收藏按钮添加 [已添加样式]
1. 添加检查, 视频是否已经被收藏

### fix(0.1.1-a):

1. 修复收藏视频接口报错无法解决的问题 (更换使用原生xhr请求接口即可)

### feat(0.1.0-a):

1. 完成大致框架搭建
2. 收藏视频接口报错无法解决 (csrf校验失败), 等待修复

# 更新计划

- [ ] 在添加收藏时, 判断当前的收藏夹排序是否正确. 如果不正确, 进行重新排序. 优化体验, 原先重新排序只在通过脚本新建收藏夹时会生效, 如果手动创建收藏夹, 则不会进行排序.
- [ ] 添加收藏至 "默认收藏夹" 的选择.
- [x] 优化 ScriptCat / TamperMonkey 判断逻辑
